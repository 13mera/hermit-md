const axios=require("axios"),cheerio=require("cheerio");function pinterest(e){return new Promise(async(o,t)=>{axios.get("https://id.pinterest.com/search/pins/?autologin=true&q="+e,{headers:{cookie:'_auth=1; _b="AVna7S1p7l1C5I9u0+nR3YzijpvXOPc6d09SyCzO+DcwpersQH36SmGiYfymBKhZcGg="; _pinterest_sess=TWc9PSZHamJOZ0JobUFiSEpSN3Z4a2NsMk9wZ3gxL1NSc2k2NkFLaUw5bVY5cXR5alZHR0gxY2h2MVZDZlNQalNpUUJFRVR5L3NlYy9JZkthekp3bHo5bXFuaFZzVHJFMnkrR3lTbm56U3YvQXBBTW96VUgzVUhuK1Z4VURGKzczUi9hNHdDeTJ5Y2pBTmxhc2owZ2hkSGlDemtUSnYvVXh5dDNkaDN3TjZCTk8ycTdHRHVsOFg2b2NQWCtpOWxqeDNjNkk3cS85MkhhSklSb0hwTnZvZVFyZmJEUllwbG9UVnpCYVNTRzZxOXNJcmduOVc4aURtM3NtRFo3STlmWjJvSjlWTU5ITzg0VUg1NGhOTEZzME9SNFNhVWJRWjRJK3pGMFA4Q3UvcHBnWHdaYXZpa2FUNkx6Z3RNQjEzTFJEOHZoaHRvazc1c1UrYlRuUmdKcDg3ZEY4cjNtZlBLRTRBZjNYK0lPTXZJTzQ5dU8ybDdVS015bWJKT0tjTWYyRlBzclpiamdsNmtpeUZnRjlwVGJXUmdOMXdTUkFHRWloVjBMR0JlTE5YcmhxVHdoNzFHbDZ0YmFHZ1VLQXU1QnpkM1FqUTNMTnhYb3VKeDVGbnhNSkdkNXFSMXQybjRGL3pyZXRLR0ZTc0xHZ0JvbTJCNnAzQzE0cW1WTndIK0trY05HV1gxS09NRktadnFCSDR2YzBoWmRiUGZiWXFQNjcwWmZhaDZQRm1UbzNxc21pV1p5WDlabm1UWGQzanc1SGlrZXB1bDVDWXQvUis3elN2SVFDbm1DSVE5Z0d4YW1sa2hsSkZJb1h0MTFpck5BdDR0d0lZOW1Pa2RDVzNySWpXWmUwOUFhQmFSVUpaOFQ3WlhOQldNMkExeDIvMjZHeXdnNjdMYWdiQUhUSEFBUlhUVTdBMThRRmh1ekJMYWZ2YTJkNlg0cmFCdnU2WEpwcXlPOVZYcGNhNkZDd051S3lGZmo0eHV0ZE42NW8xRm5aRWpoQnNKNnNlSGFad1MzOHNkdWtER0xQTFN5Z3lmRERsZnZWWE5CZEJneVRlMDd2VmNPMjloK0g5eCswZUVJTS9CRkFweHc5RUh6K1JocGN6clc1JmZtL3JhRE1sc0NMTFlpMVErRGtPcllvTGdldz0=; _ir=0'}}).then(({data:t})=>{const e=cheerio.load(t),i=[],a=[];e("div > a").get().map(t=>{t=e(t).find("img").attr("src"),i.push(t)}),i.forEach(t=>{null!=t&&a.push(t.replace(/236/g,"736"))}),a.shift(),o(a)})})}function wallpaper(i,a="1"){return new Promise((e,t)=>{axios.get(`https://www.besthdwallpaper.com/search?CurrentPage=${a}&q=`+i).then(({data:t})=>{let i=cheerio.load(t),a=[];i("div.grid-item").each(function(t,e){a.push({title:i(e).find("div.info > a > h3").text(),type:i(e).find("div.info > a:nth-child(2)").text(),source:"https://www.besthdwallpaper.com/"+i(e).find("div > a:nth-child(3)").attr("href"),image:[i(e).find("picture > img").attr("data-src")||i(e).find("picture > img").attr("src"),i(e).find("picture > source:nth-child(1)").attr("srcset"),i(e).find("picture > source:nth-child(2)").attr("srcset")]})}),e(a)})})}function wikimedia(i){return new Promise((e,t)=>{axios.get(`https://commons.wikimedia.org/w/index.php?search=${i}&title=Special:MediaSearch&go=Go&type=image`).then(t=>{let i=cheerio.load(t.data),a=[];i(".sdms-search-results__list-wrapper > div > a").each(function(t,e){a.push({title:i(e).find("img").attr("alt"),source:i(e).attr("href"),image:i(e).find("img").attr("data-src")||i(e).find("img").attr("src")})}),e(a)})})}function quotesAnime(){return new Promise((e,t)=>{var i=Math.floor(184*Math.random());axios.get("https://otakotaku.com/quote/feed/"+i).then(({data:t})=>{const i=cheerio.load(t),a=[];i("div.kotodama-list").each(function(t,e){a.push({link:i(e).find("a").attr("href"),gambar:i(e).find("img").attr("data-src"),karakter:i(e).find("div.char-name").text().trim(),anime:i(e).find("div.anime-title").text().trim(),episode:i(e).find("div.meta").text(),up_at:i(e).find("small.meta").text(),quotes:i(e).find("div.quote").text().trim()})}),e(a)}).catch(t)})}function aiovideodl(i){return new Promise((e,t)=>{axios({url:"https://aiovideodl.ml/",method:"GET",headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",cookie:"PHPSESSID=69ce1f8034b1567b99297eee2396c308; _ga=GA1.2.1360894709.1632723147; _gid=GA1.2.1782417082.1635161653"}}).then(t=>{t=cheerio.load(t.data)("#token").attr("value"),axios({url:"https://aiovideodl.ml/wp-json/aio-dl/video-data/",method:"POST",headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",cookie:"PHPSESSID=69ce1f8034b1567b99297eee2396c308; _ga=GA1.2.1360894709.1632723147; _gid=GA1.2.1782417082.1635161653"},data:new URLSearchParams(Object.entries({url:i,token:t}))}).then(({data:t})=>{e(t)})})})}function umma(i){return new Promise((e,t)=>{axios.get(i).then(t=>{let i=cheerio.load(t.data),a=[];i("#article-content > div").find("img").each(function(t,e){a.push(i(e).attr("src"))}),t={title:i("#wrap > div.content-container.font-6-16 > h1").text().trim(),author:{name:i("#wrap > div.content-container.font-6-16 > div.content-top > div > div.user-ame.font-6-16.fw").text().trim(),profilePic:i("#wrap > div.content-container.font-6-16 > div.content-top > div > div.profile-photo > img.photo").attr("src")},caption:i("#article-content > div > p").text().trim(),media:i("#article-content > div > iframe").attr("src")?[i("#article-content > div > iframe").attr("src")]:a,type:i("#article-content > div > iframe").attr("src")?"video":"image",like:i("#wrap > div.bottom-btns > div > button:nth-child(1) > div.text.font-6-12").text()},e(t)})})}function ringtone(i){return new Promise((e,t)=>{axios.get("https://meloboom.com/en/search/"+i).then(t=>{let i=cheerio.load(t.data),a=[];i("#__next > main > section > div.jsx-2244708474.container > div > div > div > div:nth-child(4) > div > div > div > ul > li").each(function(t,e){a.push({title:i(e).find("h4").text(),source:"https://meloboom.com/"+i(e).find("a").attr("href"),audio:i(e).find("audio").attr("src")})}),e(a)})})}async function tiktokdownload(a){return new Promise(async(i,e)=>{await axios.request({url:"https://ttdownloader.com/",method:"GET",headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","accept-language":"en-US,en;q=0.9,id;q=0.8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36",cookie:"_ga=GA1.2.1240046717.1620835673; PHPSESSID=i14curq5t8omcljj1hlle52762; popCookie=1; _gid=GA1.2.1936694796.1623913934"}}).then(t=>{t=cheerio.load(t.data)("#token").attr("value"),axios({url:"https://ttdownloader.com/req/",method:"POST",data:new URLSearchParams(Object.entries({url:a,format:"",token:t})),headers:{accept:"*/*","accept-language":"en-US,en;q=0.9,id;q=0.8","content-type":"application/x-www-form-urlencoded; charset=UTF-8","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36",cookie:"_ga=GA1.2.1240046717.1620835673; PHPSESSID=i14curq5t8omcljj1hlle52762; popCookie=1; _gid=GA1.2.1936694796.1623913934"}}).then(t=>{var e=cheerio.load(t.data),t={status:t.status,nowatermark:e("#results-list > div:nth-child(2)").find("div.download > a").attr("href"),watermark:e("#results-list > div:nth-child(3)").find("div.download > a").attr("href"),audio:e("#results-list > div:nth-child(4)").find(" div.download > a").attr("href")};i(t)}).catch(e)}).catch(e)})}const h2k=t=>{var e,i=Math.log10(Math.abs(t))/3|0;return 0==i?t:(e=[""," K"," M"," B"," T"," P"," E"][i],t=(t/Math.pow(10,3*i)).toFixed(1)+"",(t=/\.0$/.test(t)?t.substr(0,t.length-2):t)+e)},FileSize=t=>{var e,i=Math.log10(Math.abs(t))/3|0;return 0==i?t:(e=["B"," KB"," MB"," GB"," TB"," PB"," EB"][i],t=(t/Math.pow(10,3*i)).toFixed(1)+"",(t=/\.0$/.test(t)?t.substr(0,t.length-2):t)+e)};function styletext(i){return new Promise((e,t)=>{axios.get("http://qaz.wtf/u/convert.cgi?text="+i).then(({data:t})=>{let i=cheerio.load(t),a=[];i("table > tbody > tr").each(function(t,e){a.push({name:i(e).find("td:nth-child(1) > span").text(),result:i(e).find("td:nth-child(2)").text().trim()})}),e(a)})})}module.exports={pinterest:pinterest,wallpaper:wallpaper,wikimedia:wikimedia,quotesAnime:quotesAnime,aiovideodl:aiovideodl,umma:umma,ringtone:ringtone,styletext:styletext,FileSize:FileSize,h2k:h2k,tiktokdownload:tiktokdownload};